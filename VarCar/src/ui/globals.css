/* Import Geist Fonts - Self-hosted for Figma plugin */
@import '@fontsource/geist-sans/400.css';
@import '@fontsource/geist-sans/500.css';
@import '@fontsource/geist-sans/600.css';
@import '@fontsource/geist-mono/400.css';
@import '@fontsource/geist-mono/500.css';
@import '@fontsource/geist-mono/600.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Base Surfaces - Figma-style colors */
    --background: 0 0% 11.8%;           /* #1E1E1E - Main background */
    --background-canvas: 0 0% 17.3%;    /* #2C2C2C - Canvas/workspace background */
    --surface: 0 0% 17.3%;              /* #2C2C2C - Elevated surfaces (cards, panels) */
    --surface-elevated: 0 0% 14.5%;     /* #252525 - Higher elevation (nodes, active items) */
    --surface-selected: 0 0% 25% / 0.3; /* Grey with 30% opacity - Selected item background */
    
    /* Grid Pattern - Subtle dot/grid for canvas */
    --grid-color: 0 0% 23.5%;          /* #3C3C3C - Grid dots/lines */
    --grid-opacity: 0.15%;              /* 15% opacity for grid */
    
    /* Text Hierarchy - Figma-style colors */
    --foreground: 0 0% 90%;            /* #E5E5E5 - Primary text */
    --foreground-secondary: 0 0% 62.7%; /* #A0A0A0 - Secondary text */
    --foreground-tertiary: 0 0% 44.1%;  /* #707070 - Tertiary text */
    --foreground-disabled: 0 0% 32.2%;  /* gray-600 - Disabled text */
    
    /* Borders & Dividers - Figma-style colors */
    --border: 0 0% 23.5%;              /* #3C3C3C - Standard borders */
    --border-subtle: 0 0% 19.6%;       /* #323232 - Subtle dividers */
    --border-strong: 0 0% 23.5%;       /* #3C3C3C - Strong borders */
    
    /* Interactive States - Figma-style colors */
    --interactive: 0 0% 16.5%;         /* #2A2A2A - Hover backgrounds */
    --interactive-hover: 0 0% 16.5%;   /* #2A2A2A - Active hover */
    --interactive-pressed: 0 0% 11.8%; /* #1E1E1E - Pressed state */
    
    /* Primary Actions - Grey */
    --primary: 0 0% 32.2%;             /* grey-600 - Primary actions */
    --primary-hover: 0 0% 45.1%;       /* grey-500 - Hover state */
    --primary-pressed: 0 0% 23.1%;     /* grey-700 - Pressed state */
    --primary-foreground: 0 0% 90%;    /* #E5E5E5 text on primary */
    --primary-glow: 255 255 255 / 0.15; /* White glow */
    
    /* Semantic Colors - Gray Variants (No Colors) */
    --success: 0 0% 45.1%;             /* gray-500 - Gray instead of green */
    --warning: 0 0% 45.1%;             /* gray-500 - Gray instead of orange */
    --error: 0 0% 45.1%;               /* gray-500 - Gray instead of red */
    --info: 0 0% 45.1%;                /* gray-500 - Gray */
    
    /* Glow Effects - White Only (No Colored Glows) */
    --glow-subtle: 255 255 255 / 0.1;  /* Subtle white glow */
    --glow-primary: 255 255 255 / 0.15; /* White glow (no blue) */
    --glow-success: 255 255 255 / 0.15; /* White glow (no green) */
    
    /* Muted Backgrounds - Figma-style colors */
    --muted: 0 0% 11.8%;               /* #1E1E1E - Muted backgrounds */
    --muted-foreground: 0 0% 44.1%;    /* #707070 - Muted text */
    
    /* Inputs - Figma-style colors */
    --input: 0 0% 11.8%;               /* #1E1E1E - Input backgrounds */
    --input-border: 0 0% 30%;          /* Slightly lighter for visibility */
    --input-focus: 0 0% 32.2%;         /* grey-600 - Grey focus ring */
    
    /* Overlays - Black Only */
    --overlay: 0 0 0 / 0.4;            /* 40% black overlay for modals */
    --backdrop: 0 0 0 / 0.6;           /* 60% black backdrop blur */
    
    /* Connection Handles - Tailwind Gray Scale Only */
    --handle-bg: 0 0% 14.9%;           /* gray-800 - Handle background */
    --handle-border: 0 0% 23.1%;       /* gray-700 - Handle border */
    --handle-stroke: 0 0% 23.1%;       /* gray-700 - Handle stroke (same as border) */
    --handle-hover: 0 0% 23.1%;        /* gray-700 - Handle hover */
    --handle-hover-bg: 0 0% 32.2%;     /* gray-600 - Handle hover background */
    --handle-hover-fill: 0 0% 45.1%;   /* gray-500 - Handle hover fill */
    --handle-active: 0 0% 32.2%;       /* gray-600 - Handle active (gray, not blue) */
    --handle-glow: 255 255 255 / 0.2;  /* White glow only */
    --handle-icon: 0 0% 63.1%;         /* gray-400 - Plus icon color */
    --handle-valid: 77 184 168;        /* Teal color for valid connections */
    --handle-invalid: 255 107 107;     /* Red color for invalid connections */
    
    /* Graph Edges/Connections - Tailwind Gray Scale Only */
    --edge-default: 0 0% 23.1%;        /* gray-700 - Default edge */
    --edge-opacity-default: 0.4;       /* 40% opacity for subtlety */
    --edge-hover: 0 0% 32.2%;          /* gray-600 - Edge hover */
    --edge-selected: 0 0% 45.1%;       /* gray-500 - Selected edge (gray, not blue) */
    --edge-alias: 0 0% 32.2%;          /* gray-600 - Alias edge (gray, not green) */
    --edge-error: 0 0% 32.2%;          /* gray-600 - Error edge (gray, not red) */
    --edge-glow: 255 255 255 / 0.2;    /* White glow only */
    
    /* Node Borders - Tailwind Gray Scale, White Glows Only */
    --node-bg: 0 0% 14.9%;             /* gray-800 - Node background */
    --node-border: 0 0% 23.1%;         /* gray-700 - Subtle border */
    --node-border-selected: 0 0% 32.2%; /* gray-600 - Selected (gray, not blue) */
    --node-border-hover: 0 0% 23.1%;   /* gray-700 - Hover */
    --node-glow: 255 255 255 / 0.05;   /* White glow only */
    --node-glow-selected: 255 255 255 / 0.1; /* White glow (not blue) */
    --node-radius: 12px;               /* Rounded corners (pill-shaped) */
    
    /* Scrollbars - Tailwind Gray Scale */
    --scrollbar-track: 0 0% 9%;        /* gray-900 - Scrollbar track */
    --scrollbar-thumb: 0 0% 23.1%;     /* gray-700 - Scrollbar thumb */
    --scrollbar-thumb-hover: 0 0% 32.2%; /* gray-600 - Scrollbar thumb hover */
    
    /* Tooltips - Tailwind Gray Scale */
    --tooltip-bg: 0 0% 14.9%;          /* gray-800 - Tooltip background */
    --tooltip-border: 0 0% 23.1%;      /* gray-700 - Tooltip border */
    --tooltip-text: 0 0% 87.1%;        /* gray-200 - Tooltip text */
    
    /* Context Menus - Tailwind Gray Scale */
    --menu-bg: 0 0% 9%;                /* gray-900 - Menu background */
    --menu-border: 0 0% 14.9%;         /* gray-800 - Menu border */
    --menu-item-hover: 0 0% 14.9%;     /* gray-800 - Menu item hover */
    --menu-divider: 0 0% 9%;           /* gray-900 - Menu divider */
    
    /* Card & Popover - Figma-style colors */
    --card: 0 0% 17.3%;                /* #2C2C2C - Card background */
    --card-foreground: 0 0% 90%;       /* #E5E5E5 - Card text */
    --popover: 0 0% 17.3%;             /* #2C2C2C - Popover background */
    --popover-foreground: 0 0% 90%;    /* #E5E5E5 - Popover text */
    
    /* Secondary & Accent - Figma-style colors */
    --secondary: 0 0% 17.3%;           /* #2C2C2C - Secondary background */
    --secondary-foreground: 0 0% 90%;  /* #E5E5E5 - Secondary text */
    --accent: 0 0% 32.2%;              /* grey-600 - Accent */
    --accent-foreground: 0 0% 90%;     /* #E5E5E5 - Accent text */
    
    /* Destructive - Tailwind Gray Scale (No Red) */
    --destructive: 0 0% 45.1%;         /* gray-500 - Destructive (gray, not red) */
    --destructive-foreground: 0 0% 87.1%; /* gray-200 - Destructive text */
    
    /* Ring (focus ring) - Grey */
    --ring: 0 0% 32.2%;                /* grey-600 - Focus ring */
    
    /* Radius */
    --radius: 0.5rem;                  /* 8px - Base border radius */
    
    /* Animation Timings */
    --duration-instant: 0ms;           /* Instant feedback (hover, focus) */
    --duration-fast: 0ms;              /* Instant transitions (button clicks) */
    --duration-base: 0ms;              /* Instant transitions (default) */
    --duration-slow: 150ms;            /* Smooth transitions (modals, panels) */
    
    /* Easing Functions */
    --ease-snappy: cubic-bezier(0.4, 0, 0.2, 1);      /* Snappy, responsive */
    --ease-smooth: cubic-bezier(0.25, 0.1, 0.25, 1);  /* Smooth, natural */
    
    /* Typography - Geist Fonts */
    --font-geist-sans: 'Geist Sans', ui-sans-serif, system-ui, sans-serif;
    --font-geist-mono: 'Geist Mono', ui-monospace, monospace;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  /* Ensure proper sizing chain for plugin window */
  html, body, #root {
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 0;
    overflow: hidden;
  }
  
  body {
    @apply bg-background text-foreground;
    font-family: var(--font-geist-sans);
    color-scheme: dark;
  }
  code, 
  pre, 
  .font-mono, 
  [class*="font-mono"] {
    font-family: var(--font-geist-mono) !important;
  }
}

@layer utilities {
  .no-shadow {
    box-shadow: none !important;
  }
  
  .glow-subtle {
    box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.05);
  }
  
  .glow-primary {
    box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.1), 
                0 0 12px rgba(255, 255, 255, 0.08);
  }
  
  .glow-node {
    box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.05);
  }
  
  .glow-node-selected {
    box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.1), 
                0 0 12px rgba(255, 255, 255, 0.08);
  }
}

/* Handle Glow Animations */
@keyframes handleGlowValid {
  0%, 100% {
    box-shadow: 0 0 12px rgba(77, 184, 168, 0.8);
  }
  50% {
    box-shadow: 0 0 20px rgba(77, 184, 168, 1), 
                0 0 30px rgba(77, 184, 168, 0.6);
  }
}

@keyframes handleGlowInvalid {
  0%, 100% {
    box-shadow: 0 0 12px rgba(255, 107, 107, 0.8);
  }
  50% {
    box-shadow: 0 0 20px rgba(255, 107, 107, 1), 
                0 0 30px rgba(255, 107, 107, 0.6);
  }
}
