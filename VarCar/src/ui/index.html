<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FigZig</title>
    <style>
      :root {
        /* Sci-Fi Technical Theme */
        --canvas-bg: #0D0D0D;
        --bg-color: #0D0D0D;
        --card-bg: #1F1F1F;
        --card-stroke: #353535;
        --topbar-bg: #0D0D0D;
        
        /* Button States */
        --button-bg-idle: #1E1E1E;
        --button-stroke-idle: #2A2A2A;
        --button-bg-hover: #323232;
        --button-stroke-hover: #454545;
        
        /* Handles */
        --handle-bg: #2a2a2a;
        --handle-stroke: #6b7280;
        --handle-hover-fill: #a78bfa;
        --handle-hover-bg: rgba(167, 139, 250, 0.2);
        --handle-hover-inner: #DBDBDB;
        --handle-icon: #0D0D0D;
        --handle-connecting: #8b7eff;
        --handle-valid: #4db8a8;
        --handle-invalid: #ff6b6b;
        
        /* Text */
        --text-color: #e8e8ea;
        --text-secondary: #98989d;
        --text-disabled: #6e6e73;
        --border-color: #353535;
        --hover-bg: rgba(255, 255, 255, 0.05);
        
        /* Accent colors */
        --primary-color: #8b7eff;
        --accent-purple: #8b7eff;
        --accent-blue: #5ba4fc;
        --accent-teal: #4db8a8;
        --accent-amber: #e6a55d;
        --success-color: #4db8a8;
        --error-color: #ff6b6b;
        --warning-color: #e6a55d;
        
        /* Effects */
        --blur-amount: blur(20px);
        --card-shadow: none;
        --card-shadow-hover: none;
        --subtle-glow: 0 0 20px rgba(139, 126, 255, 0.15);
        
        /* Typography */
        --font-family-tech: 'SF Mono', 'Menlo', 'Monaco', 'Courier New', monospace;
      }

      * {
        box-sizing: border-box;
      }
      
      body {
        margin: 0;
        padding: 0;
        font-family: var(--font-family-tech);
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        background: var(--canvas-bg);
        color: var(--text-color);
      }

      /* React Flow handle visibility */
      .react-flow__handle {
        width: 12px !important;
        height: 12px !important;
        transition: all 0.15s ease !important;
      }

      .react-flow__handle:hover {
        transform: scale(1.3) !important;
      }

      .react-flow__handle-connecting {
        background: var(--primary-color) !important;
      }

      .react-flow__handle-valid {
        background: var(--success-color) !important;
      }

      /* Ensure edges are behind nodes but above background */
      .react-flow__edges {
        z-index: 1 !important;
        pointer-events: all !important;
        overflow: visible !important;
      }

      .react-flow__nodes {
        z-index: 2 !important;
      }

      .react-flow__node {
        overflow: visible !important;
      }

      /* Force edge SVG layer visibility */
      .react-flow__edge {
        pointer-events: all !important;
      }

      /* Edge path styling - let component control colors and widths */
      .react-flow__edge-path {
        fill: none;
        opacity: 1;
        visibility: visible;
        pointer-events: all;
      }

      /* Ensure edge markers are visible */
      .react-flow__edge-marker {
        opacity: 1 !important;
        visibility: visible !important;
      }

      marker {
        overflow: visible;
      }

      marker path {
        fill: currentColor;
        stroke: none;
        pointer-events: none;
      }

      /* Ensure SVG is not clipped */
      .react-flow__renderer {
        overflow: visible !important;
      }

      .react-flow__viewport {
        overflow: visible !important;
      }

      /* Handle animations */
      @keyframes handlePulse {
        0%, 100% { transform: translateY(-50%) scale(1); opacity: 0.9; }
        50% { transform: translateY(-50%) scale(1.1); opacity: 1; }
      }

      @keyframes handleShake {
        0%, 100% { transform: translateY(-50%) translateX(0); }
        25% { transform: translateY(-50%) translateX(-2px); }
        75% { transform: translateY(-50%) translateX(2px); }
      }

      @keyframes handleGlowValid {
        0%, 100% { box-shadow: 0 0 0 0 rgba(77, 184, 168, 0.7); }
        50% { box-shadow: 0 0 0 6px rgba(77, 184, 168, 0); }
      }

      @keyframes handleGlowInvalid {
        0%, 100% { box-shadow: 0 0 0 0 rgba(255, 107, 107, 0.7); }
        50% { box-shadow: 0 0 0 6px rgba(255, 107, 107, 0); }
      }

      /* Toast animations */
      @keyframes subtleAppear {
        from {
          transform: scale(0.96);
          opacity: 0;
        }
        to {
          transform: scale(1);
          opacity: 1;
        }
      }

      @keyframes subtleFadeOut {
        from {
          transform: scale(1);
          opacity: 1;
        }
        to {
          transform: scale(0.96);
          opacity: 0;
        }
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="./index.tsx"></script>
  </body>
</html>
